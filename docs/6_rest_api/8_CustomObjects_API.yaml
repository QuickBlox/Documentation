swagger: '2.0'
info:
  title: QuickBlox REST API, CustomObjects API.
  description: |
    Custom Objects module provides flexibility to define any data structure(schema) you need.
    Schema is defined in [QuickBlox Administration Panel](https://admin.quickblox.com).
    The schema is called **Class** and contains field names and their types.
    <br><br>
    Available types are:<br><br>
    • **Integer**<br>
    • **String**<br>
    • **Float**<br>
    • **Boolean**<br>
    • **Array**<br>
    • **File**<br>
    • **Location** (array with 2 elements: longitude, latitude)<br>
    • **Date**<br>
    <br>
    To start use Custom Objects module you should create your data schema.
    Go to [QuickBlox Administration Panel](https://admin.quickblox.com),
      Custom Objects module page and press 'Add new class' button.
      'Add new class' popup will appear. Enter Class name, add any fields you want.
      Press 'Create class' button - new class will be created.
    <br>
    <br>
    There are some predefined fields:<br><br>
    • **_id** - String (Record ID).<br>
    • **created_at** - Integer (contains Unix timestamp - date & time when record was created, filled automatically).<br>
    • **updated_at** - Integer (contains Unix timestamp - date & time when record was updated, filled automatically).<br>
    • **user_id** - Integer (contains API User ID, which created current record).<br>
    • **_parent_id** - String (parent object's ID) - for cascade deletion. <br>
  version: 1.0
# the domain of the service
host: quickblox.com
# array of all schemes that QuickBlox API supports
schemes:
  - https
basePath: /api
produces:
  - application/json
paths:
  /data/{class_name}.json:
    post:
      summary: Create object
      operationId: 101_Create_object
      description: |
        Create new custom object.
      parameters:
        - name: class_name
          in: formData
          description: A class name to which a new object belongs (path parameter).
          required: true
          type: string
          default: MyScoreTable
        - name: '<fieldName1>'
          in: formData
          description: |
            Custom field name and its value.
          required: false
          type: string
          default: score_value=1024
      responses:
        '201':
          description: "An object"
          schema:
            $ref: '#/definitions/CustomObject'
    get:
      summary: Retrieve objects
      operationId: 102_Retrieve_objects
      description: |
        Search for records of particular class.
      parameters:
        - name: class_name
          in: formData
          description: A class name of objects to retrieve (path parameter).
          required: true
          type: string
          default: MyScoreTable
        - name: '{field_name}'
          in: formData
          description: Search records with field which contains exactly specified value.
          required: false
          type: string
          default: rating=2
      responses:
        '200':
          description: "An array of objects"
          schema:
            $ref: '#/definitions/ArrayOfCustomObjectsResponse'
definitions:
  ArrayOfCustomObjectsResponse:
    type: object
    properties:
      class_name:
        type: string
        example: MyScoreTable
      skip:
        type: integer
        example: 10
      limit:
        type: integer
        example: 100
      items:
        type: array
        items:
          $ref: '#/definitions/CustomObject'
  CustomObject:
    type: object
    properties:
      _id:
        type: string
        example: 53aaa06f535c12cea9007496
      created_at:
        type: integer
        example: 1345448268
      updated_at:
        type: integer
        example: 1345448268
      user_id:
        type: integer
        example: 57883
      _parent_id:
        type: string
        example: 53aaa06f535c12cea9007496
      score_value:
        type: integer
        example: 1024
